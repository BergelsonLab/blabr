<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Convert a dataframe of fixation intervals to an evenly spaced timeseries — fixations_to_timeseries • blabr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a dataframe of fixation intervals to an evenly spaced timeseries — fixations_to_timeseries"><meta property="og:description" content="

The fixations are first dropped/trimmed if t_max is set.
The fixation interval boundaries are then rounded up to the nearest
multiples of t_step.
Each fixation row is then duplicated as many time as there are time points
(also multiples of t_step) falling within the rounded up intervals. The
timepoins are stored in a new column time.
If a timepoint falls within multiple fixations, only the row with the
later fixation is kept.
If a timepoint doesn't fall within any fixations in a given trial, it won't
appear in the output at all.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">blabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.25.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert a dataframe of fixation intervals to an evenly spaced timeseries</h1>

    <div class="hidden name"><code>fixations_to_timeseries.Rd</code></div>
    </div>

    <div class="ref-description">

<ul><li><p>The fixations are first dropped/trimmed if <code>t_max</code> is set.</p></li>
<li><p>The fixation interval boundaries are then rounded up to the nearest
multiples of <code>t_step</code>.</p></li>
<li><p>Each fixation row is then duplicated as many time as there are time points
(also multiples of <code>t_step</code>) falling within the rounded up intervals. The
timepoins are stored in a new column <code>time</code>.</p></li>
<li><p>If a timepoint falls within multiple fixations, only the row with the
later fixation is kept.</p></li>
<li><p>If a timepoint doesn't fall within any fixations in a given trial, it won't
appear in the output at all.</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fixations_to_timeseries</span><span class="op">(</span><span class="va">fixations</span>, t_step <span class="op">=</span> <span class="fl">20</span>, t_max <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-fixations">fixations<a class="anchor" aria-label="anchor" href="#arg-fixations"></a></dt>
<dd><p>A dataframe that must minimally contain the following
columns:</p><ul><li><p><code>recording_id</code> and <code>trial_index</code> that uniquely identify trials.</p></li>
<li><p><code>t_start</code>, <code>t_end</code> - the start and end times of the
fixations in ms. Use <code>read_*_report</code>, <code>split_*_report</code>, and
<code>merge_split_reports</code> to get such a dataframe.</p></li>
</ul></dd>


<dt id="arg-t-step">t_step<a class="anchor" aria-label="anchor" href="#arg-t-step"></a></dt>
<dd><p>The time step in ms.</p></dd>


<dt id="arg-t-max">t_max<a class="anchor" aria-label="anchor" href="#arg-t-max"></a></dt>
<dd><p>Optional. The maximum time in ms. Fixations that start after
this time will be removed and the end time of fixations that end after this
time will be set to this time.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A dataframe with similar columns as the input dataframe but with
many more rows. Here are the differences in columns:0</p><ul><li><p>A new column <code>time</code> was added that contains the time points that are
multiples of <code>t_step</code> and are within the fixation interval after it was
rounded up to the nearest multiple of <code>t_step</code>.</p></li>
<li><p>The <code>t_start</code> and <code>t_end</code> columns were renamed to <code>fixation_start</code> and
<code>fixation_end</code>.</p></li>
<li><p>Some fixations may have been dropped if they started after <code>t_max</code> or if
they were all in one time bin and it was shared with another fixation.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">fixations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  recording_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  trial_index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  t_start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">105</span>, <span class="fl">202</span>, <span class="fl">256</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  t_end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">155</span>, <span class="fl">241</span>, <span class="fl">560</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">50</span>, <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">t_step</span> <span class="op">&lt;-</span> <span class="fl">20</span></span></span>
<span class="r-in"><span><span class="va">t_max</span> <span class="op">&lt;-</span> <span class="fl">400</span></span></span>
<span class="r-in"><span><span class="fu">fixations_to_timeseries</span><span class="op">(</span><span class="va">fixations</span>, <span class="va">t_step</span>, <span class="va">t_max</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    recording_id trial_index fixation_start fixation_end   x y time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1           1            105          155   0 0  120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             1           1            105          155   0 0  140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             1           1            105          155   0 0  160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             2           2            202          241 -50 0  220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             2           2            202          241 -50 0  240</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7             3           3            256          400  50 0  260</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8             3           3            256          400  50 0  280</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9             3           3            256          400  50 0  300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            3           3            256          400  50 0  320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11            3           3            256          400  50 0  340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12            3           3            256          400  50 0  360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13            3           3            256          400  50 0  380</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14            3           3            256          400  50 0  400</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andrei Amatuni.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

