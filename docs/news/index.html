<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • blabr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">blabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.25.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>

    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.25.2" id="blabr-0252">blabr 0.25.2<a class="anchor" aria-label="anchor" href="#blabr-0252"></a></h2>
<div class="section level3">
<h3 id="fixed-0-25-2">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-25-2"></a></h3>
<ul><li>Fixes default folder name typo in <code>get_blab_share_path</code>
</li>
<li>Changes <code>get_blab_share_path</code> to check for empty strings and not just NULL</li>
</ul></div>
<div class="section level3">
<h3 id="changes-0-25-2">Changes<a class="anchor" aria-label="anchor" href="#changes-0-25-2"></a></h3>
<ul><li>Added <code>add_vtc_speaker_stats</code> function, which does the same thing as <code>get_vtc_speaker_stats</code> but keep all the original columns</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.25.1" id="blabr-0251">blabr 0.25.1<a class="anchor" aria-label="anchor" href="#blabr-0251"></a></h2>
<div class="section level3">
<h3 id="fixed-0-25-1">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-25-1"></a></h3>
<ul><li>Make <code>blabr</code> look for git in the current <code>PATH</code>. Previously, the path to <code>git</code> was only looked up once during the package installation leading to changes to <code>PATH</code> having no effect at all.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.25.0" id="blabr-0250">blabr 0.25.0<a class="anchor" aria-label="anchor" href="#blabr-0250"></a></h2>
<div class="section level3">
<h3 id="changed-0-25-0">Changed<a class="anchor" aria-label="anchor" href="#changed-0-25-0"></a></h3>
<ul><li>
<code>assign_time_windows</code>:
<ul><li>The window boundaries are now specified with two arguments: <code>t_starts</code>, <code>t_ends</code> instead of <code>t_start</code>, <code>short_window_time</code>, <code>med_window_time</code>, and <code>long_window_time</code>. <code>DEFAULT_WINDOWS_UPPER_BOUNDS</code> can be used as <code>t_ends</code>.</li>
<li>The windows columns are now called “window_<t_start><em><t_end>ms” and “which_window</t_end></em><t_start>_<t_end>ms” instead of, e.g., “shortwin” and “whichwin_short”.</t_end></t_start></t_start></li>
<li>The window boundaries have to be specifed explicitly, no default values will be used.</li>
<li>The <code>which_window_&lt;t_start&gt;_&lt;t_end&gt;ms</code> columns now have the following values: “pre”, “neither”, and “<t_start>_<t_end>ms” (the latter used to be “short”/“med”/“long”)</t_end></t_start></li>
</ul></li>
<li>
<code>tag_low_data_trials</code>:
<ul><li>
<code>min_fraction</code> must be specified explicitly, the default value of 1/3 was removed but will be suggested in the error message.</li>
<li>You can now either specify the <code>window_column</code> to be used or <code>t_start</code> and <code>t_end</code> removing the confusing option where an existing window column was used but its end and <code>t_start</code> were used in the calculation of the maximum number of bins in the window.</li>
<li>When you specify a window column, the boundaries will be inferred from the column name (see <code>assign_time_windows</code>).</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.24.1" id="blabr-0241">blabr 0.24.1<a class="anchor" aria-label="anchor" href="#blabr-0241"></a></h2>
<div class="section level3">
<h3 id="fixed-0-24-1">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-24-1"></a></h3>
<ul><li>Update <code>get_reliability</code> for the <code>0.0.4</code> version of the dataset.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.24.0" id="blabr-0240">blabr 0.24.0<a class="anchor" aria-label="anchor" href="#blabr-0240"></a></h2>
<div class="section level3">
<h3 id="changed-0-24-0">Changed<a class="anchor" aria-label="anchor" href="#changed-0-24-0"></a></h3>
<ul><li>Streamlined update_global_basic_levels. It now loads all_basiclevel_NA.csv from a local file, not from BLAB_DATA. This way, there is no need to create a tagged commit in the all_basiclevel repo with the updated all_basiclevel_NA.csv that doesn’t yet have global basic levels. You still need to commit and tag global basic level mapping dictionaries in the same repo though.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.23.0" id="blabr-0230">blabr 0.23.0<a class="anchor" aria-label="anchor" href="#blabr-0230"></a></h2>
<div class="section level3">
<h3 id="changed-0-23-0">Changed<a class="anchor" aria-label="anchor" href="#changed-0-23-0"></a></h3>
<ul><li>Update <code>get_seedlings_nouns</code> and friends to work with the v2.0.0-dev.3 version of the dataset:
<ul><li>Update column names and types.</li>
<li>Teach to treat v2.0.0-dev.3 as a development version.</li>
</ul></li>
<li>
<code>get_*</code> functions that read data from <code>~/BLAB_DATA</code> will no longer make the corresponding repos headless when the version commit is already checked out as a branch.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.22.1" id="blabr-0221">blabr 0.22.1<a class="anchor" aria-label="anchor" href="#blabr-0221"></a></h2>
<div class="section level3">
<h3 id="fixed-0-22-1">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-22-1"></a></h3>
<ul><li>A bug in <code>verify_no_overlapping_fixations</code> which is internally used by <code>fixations_to_timeseries</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.22.0" id="blabr-0220">blabr 0.22.0<a class="anchor" aria-label="anchor" href="#blabr-0220"></a></h2>
<div class="section level3">
<h3 id="added-0-22-0">Added<a class="anchor" aria-label="anchor" href="#added-0-22-0"></a></h3>
<ul><li>
<code>read_message_report</code> function.</li>
<li>
<code>split_fixation_repor</code>, <code>split_message_report</code>, and <code>merge_split_reports</code> functions that together transform the data from a fixation and a message report into a list of these tables: <code>experiment</code>, <code>recordings</code>, <code>trials</code>, <code>fixations</code>, <code>messages</code>. Use them as the first step in eyetracking processing.</li>
</ul></div>
<div class="section level3">
<h3 id="changed-0-22-0">Changed<a class="anchor" aria-label="anchor" href="#changed-0-22-0"></a></h3>
<ul><li>Most of the eyetracking functions have been renamed and updated. One notable difference is that they expect input dataframe to contain columns <code>recording_id</code> and <code>trial_index</code> and do not allow to choose a column as a parameter. Instead, use <code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">dplyr::rename</a></code> if necessary or, better yet, keep these two column names and don’t rename them. Functions <code>split_fixation_report</code> and <code>split_message_report</code> will create these columns for you by renaming <code>RECORDING_SESSION_LABEL</code> and <code>TRIAL_INDEX</code> from the original report tables.</li>
<li>
<code>binifyFixations</code> is now <code>fixations_to_timeseries</code>. What’s chcanged:
<ul><li>It is now a lot faster. As an example, the processing time went from 1+ min to 1-3 s on the “ht_seedlings” dataset.</li>
<li>
<code>keepCols</code> parameter was dropped, use <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">dplyr::select</a></code> instead.</li>
<li>
<code>gaze</code>, <code>binSize</code>, and <code>maxTime</code> parameters are now <code>fixations</code>, <code>t_step</code>, and <code>t_max</code>. Otherwise, they didn’t change.</li>
<li>It expects the fixation boundaries to be in the <code>t_start</code> and <code>t_end</code> columns. If you used <code>split_fixation_report</code>, they will be named like that already, otherwise use <code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">dplyr::rename</a></code>.</li>
<li>The function will throw an error if the fixations overlap which has happened to some datasets in the past.</li>
<li>The output no longer has the <code>timeBin</code> column (it was redundant and easily confusable with <code>time</code>), <code>Nonset</code> is <code>t_onset</code> - time since the target onset rounded up to the nearest multiple of <code>t_step</code>.</li>
</ul></li>
<li>
<code>fixations_report</code> is now <code>read_fixation_report</code>, parameter <code>val_guess_max</code> is just <code>guess_max</code> now.</li>
<li>
<code>get_windows</code> is now <code>assign_time_windows</code>.
<ul><li>It now takes the following parameters: <code>fixation_timeseries</code>, <code>t_step</code> (previously <code>bin_size</code>, <code>t_start</code>, <code>short_window_time</code>, <code>med_window_time</code>, <code>long_window_time</code>.</li>
<li>The input dataframe must contain the <code>target_onset</code> column.</li>
<li>
<code>nb_1</code> that used to take the number of time steps (bins) since the target onset until the common window start was replaced with <code>t_start</code> which takes the time in ms between those two events.</li>
<li>There will be more changes to this function in the future mainly aimed at making it harder to use one set of window boundaries in this function and then a different one in <code>tag_low_data_trials</code> (previously <code>FindLowData</code>).</li>
</ul></li>
<li>
<code>FindLowData</code> is now <code>tag_low_data_trials</code>.
<ul><li>It now takes the following parameters: <code>fixation_timeseries</code>, <code>window_column</code>, <code>t_start</code>, <code>t_end</code>, <code>t_step</code>, <code>min_fraction</code> (defaults to 1/3).</li>
<li>
<code>min_fraction</code> makes the minimum amount of data more explicit.</li>
<li>The <code>nb_2</code> parameter was replaced with <code>t_start</code> which has the same meaning as in <code>assign_time_windows</code>. If you are converting from older code, <code>nb_2</code> used to be in ms, unlike <code>nb_1</code> in <code>get_windows</code> which was in bins so there is nothing to convert.</li>
<li>There is no check that <code>t_start</code> and <code>t_end</code> correpond to those used in <code>assign_time_windows</code> so be careful to make sure they match.</li>
<li>The output column is now called <code>is_low_data_trial</code> and is always TRUE or FALSE (it used to be NA for some trials).</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-22-0">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-22-0"></a></h3>
<ul><li>Example for <code>get_vihi_annotations</code> uses data version that doesn’t lead to errors.</li>
<li>
<code>whichwinmed</code> and <code>whichwinshort</code> columns in the output of <code>assign_time_windows</code> (previously, <code>get_windows</code>) are now calculated correctly. They used to be identical to <code>whichwinlong</code> because of a bug.</li>
</ul></div>
<div class="section level3">
<h3 id="removed-0-22-0">Removed<a class="anchor" aria-label="anchor" href="#removed-0-22-0"></a></h3>
<ul><li>Many eyetracking functions were hard-deprecated in favor of their renamed and updated versions. Some of them are described above under “Changed”. See <code>help(blabr::defunct)</code> for the full list. You can also run any of them to get a replacement suggestion.</li>
<li>Removed <code>RemoveLowData</code> and <code>RemoveFrozenTrials</code>. Use <code>tag_low_data_trials</code> and <code>FindFrozenTrials</code> followed by <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code> instead.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.21.0" id="blabr-0210">blabr 0.21.0<a class="anchor" aria-label="anchor" href="#blabr-0210"></a></h2>
<div class="section level3">
<h3 id="changed-0-21-0">Changed<a class="anchor" aria-label="anchor" href="#changed-0-21-0"></a></h3>
<ul><li>
<code>get_vihi_annotations</code> now
<ul><li>filters out PI by default,</li>
<li>returns only randomly sample intervals by default,</li>
<li>can return annotations from random and top-5 high-volubitlity intevals for VI and their TD matches with <code>subset = 'VI+TD-VI'</code>,</li>
<li>checks ACLEW tiers for consistency,</li>
<li>see <code><a href="../reference/get_vihi_annotations.html">?get_vihi_annotations</a></code> for more details.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-21-0">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-21-0"></a></h3>
<ul><li>Lots in tests. They are still failing though.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.20.1" id="blabr-0201">blabr 0.20.1<a class="anchor" aria-label="anchor" href="#blabr-0201"></a></h2>
<div class="section level3">
<h3 id="added-0-20-1">Added<a class="anchor" aria-label="anchor" href="#added-0-20-1"></a></h3>
<ul><li>Account for changes in the vihi_annotations dataset:
<ul><li>Three new tiers: fun, pro, rep.</li>
<li>Columns with the transcription and its annotation id are now called <code>transcription</code> and <code>transcription_id</code>.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.20.0" id="blabr-0200">blabr 0.20.0<a class="anchor" aria-label="anchor" href="#blabr-0200"></a></h2>
<div class="section level3">
<h3 id="added-0-20-0">Added<a class="anchor" aria-label="anchor" href="#added-0-20-0"></a></h3>
<ul><li>Introduced <code>get_seedlings_nouns_extra</code> and <code>get_seedlings_nouns_codebook</code> functions. <code>get_seedlings_nouns</code> only loads the main table now.</li>
<li>
<code>get_seedlings_nouns</code> and friends now produce messages informing user about the existence of codebooks, relation to other tables, etc.</li>
<li>Dataset versions removed from GitHub but persisting locally will no longer be loaded.</li>
<li>Add <code>get_blab_share_path</code>, remove <code>get_pn_opus_path</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="fixed-0-20-0">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-20-0"></a></h3>
<ul><li>The help page of <code>get_seedlings_nouns</code> has been updated.</li>
<li>Check that the requested dataset versions are present in the GitHub repo. Supplying non-existent versions to <code>get_*</code> functions (<code>get_seedlings_nouns</code>, <code>get_vihi_annotaitons</code>, etc.) used to lead to loading of the version that was currently in <code>BLAB_DATA</code>.</li>
<li>Enforce column specification in <code>get_*</code> functions: throw an error if it doesn’t match the data. Previously, if I messed up and didn’t add new columns to the code at all or didn’t use them for specific dataset versions, there was no indication of that.</li>
<li>Fix column misspecification of seedlings-nouns tables revealed by enforcing column specifications.</li>
<li>Add missing column specs to get_vihi_annotations.</li>
<li>Avoid repeating dataset version handling unnecessariliy resulting in doubling of reminder to supply a version to the function call or update the requested version.</li>
<li>Throw an error if a git command throws one.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.19.1" id="blabr-0191">blabr 0.19.1<a class="anchor" aria-label="anchor" href="#blabr-0191"></a></h2>
<div class="section level3">
<h3 id="fixed-0-19-1">Fixed<a class="anchor" aria-label="anchor" href="#fixed-0-19-1"></a></h3>
<ul><li>There were unqualified calls in <code>get_vihi_annotations</code>. I don’t yet know why this wasn’t flagged by <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> or didn’t cause a test error.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.19.0" id="blabr-0190">blabr 0.19.0<a class="anchor" aria-label="anchor" href="#blabr-0190"></a></h2>
<div class="section level3">
<h3 id="added-0-19-0">Added:<a class="anchor" aria-label="anchor" href="#added-0-19-0"></a></h3>
<ul><li>Function <code>get_vihi_annotations</code> similar to other <code>get_*</code> functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.18.1" id="blabr-0181">blabr 0.18.1<a class="anchor" aria-label="anchor" href="#blabr-0181"></a></h2>
<div class="section level3">
<h3 id="fixed-0-18-1">Fixed:<a class="anchor" aria-label="anchor" href="#fixed-0-18-1"></a></h3>
<ul><li>Correctly identify public versions of datasets.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.18.0" id="blabr-0180">blabr 0.18.0<a class="anchor" aria-label="anchor" href="#blabr-0180"></a></h2>
<p>Fix: - No more installation errors due to missing the <code>tidyverse</code> meta-package. - Now, neither the packages from <code>tidyverse</code>, nor any other packages are attached after running <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(blabr)</a></code>. This forces the user to insert explicit <code>library(&lt;pkg&gt;)</code> calls to their own code leading to fewer unintended consequences, e.g., <code>filter</code> referring to <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter</a></code> instead of the standard <code><a href="https://rdrr.io/r/stats/filter.html" class="external-link">stats::filter</a></code> even when user didn’t run <code><a href="https://dplyr.tidyverse.org" class="external-link">library(dplyr)</a></code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.17.0" id="blabr-0170">blabr 0.17.0<a class="anchor" aria-label="anchor" href="#blabr-0170"></a></h2>
<p>Features: - Switched to the public version in <code>get_seedlings_nouns</code>. The development versions can still be requested. - Now, <code>get_seedlings_nouns</code> can get other tables and codebooks from the SEEDLingS - Nouns dataset with the <code>table</code> and <code>get_codeobook</code> parameters.</p>
<p>Fixes: - <code>CONTRIBUTING.md</code> - <code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code> should be run before <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code>. - Multiple tests don’t fail anymore. Except for <code>test-seedlings.R</code>, this one is skipped for now.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.3" id="blabr-0163">blabr 0.16.3<a class="anchor" aria-label="anchor" href="#blabr-0163"></a></h2>
<p>Fixes: - Take into account that <code>global_bl</code> already exists when adding an updated global_bl column to “all_basiclevel_NA.csv”. - <code>col_factor</code> was called without qualifying with <code>readr::</code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.2" id="blabr-0162">blabr 0.16.2<a class="anchor" aria-label="anchor" href="#blabr-0162"></a></h2>
<p>Fix: correctly add <code>global_bl</code> column specification when reading “all_basiclevel_NA.csv”.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.1" id="blabr-0161">blabr 0.16.1<a class="anchor" aria-label="anchor" href="#blabr-0161"></a></h2>
<p>Account for adding <code>global_bl</code> column directly to <code>all_basiclevel</code>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.16.0" id="blabr-0160">blabr 0.16.0<a class="anchor" aria-label="anchor" href="#blabr-0160"></a></h2>
<p>Account for csvs in the <code>seedlings-nouns_private</code> having moved to the “public/” subfolder.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.15.0" id="blabr-0150">blabr 0.15.0<a class="anchor" aria-label="anchor" href="#blabr-0150"></a></h2>
<p><code>get_all_basiclevel</code> uses “all_basiclevel_na.csv” only as it will be the only file in the <code>all_basiclevel</code> repo from now on. If you need to stick to an older version of blabr and <code>get_all_basiclevel</code> stopped working for you, add <code>type = 'csv'</code> to the call.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.14.2" id="blabr-0142">blabr 0.14.2<a class="anchor" aria-label="anchor" href="#blabr-0142"></a></h2>
<p>Account for global basic level dictionaries having moved to the all_basiclevel repo.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.14.1" id="blabr-0141">blabr 0.14.1<a class="anchor" aria-label="anchor" href="#blabr-0141"></a></h2>
<p>Fix: make <code>get_*</code> functions work on Windows.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.14.0" id="blabr-0140">blabr 0.14.0<a class="anchor" aria-label="anchor" href="#blabr-0140"></a></h2>
<p>Add function <code>get_seedlings_nouns</code> that loads the <code>seedlings-nouns</code> dataset from the lab-private repo.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.13.2" id="blabr-0132">blabr 0.13.2<a class="anchor" aria-label="anchor" href="#blabr-0132"></a></h2>
<p>Switch to Makrdown for docs.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.13.1" id="blabr-0131">blabr 0.13.1<a class="anchor" aria-label="anchor" href="#blabr-0131"></a></h2>
<p>Bugfix: update <code>big_aggregate</code> to reflect the switch from “TVS” to “TVN” as “speaker” value.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.13.0" id="blabr-0130">blabr 0.13.0<a class="anchor" aria-label="anchor" href="#blabr-0130"></a></h2>
<ul><li>
<p>Improved handling of segments spanning two intervals in <code>add_lena_stats</code> and <code>make_five_min_approximation</code>: each such segment contributes utterance counts to these intervals in proportion to the overlap.</p>
<p>With this change, <code>make_five_min_approximation</code> produces <code>awc</code> and <code>cvc</code> on the test file that differ from the corresponding lena5min csv file by at most</p>
<ol style="list-style-type: decimal"><li>
</li></ol></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.12.0" id="blabr-0120">blabr 0.12.0<a class="anchor" aria-label="anchor" href="#blabr-0120"></a></h2>
<ul><li>
<p>New functions: <code>prepare_intervals</code> and <code>add_lena_stats</code> that previously used to be a single function <code>make_five_min_approximation</code>. The latter still exists but calls the former two now.</p>
<p>There are some changes to the behavior of <code>make_five_min_approximation</code>:</p>
<ul><li>No more zero-duration intervals.</li>
<li>Segments overlapping with two intervals now count fully towards both (previously they would count only towards the first one).</li>
<li>Intervals returned for any time point the recording was on (previously, only intervals with segments starting in them were returned).</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.11.0" id="blabr-0110">blabr 0.11.0<a class="anchor" aria-label="anchor" href="#blabr-0110"></a></h2>
<ul><li>Multiple fixes to the global basic level logic:
<ul><li>ambiguous words in <code>object_dict</code> can’t have rows with <code>NA</code> in <code>disambiguate</code>,</li>
<li>more specific instructions for manual updates,</li>
<li>copy <code>object_dict</code> when some annotations need disambiguating even if the dictionary itself does not need to be updated.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.10.0" id="blabr-0100">blabr 0.10.0<a class="anchor" aria-label="anchor" href="#blabr-0100"></a></h2>
<ul><li>Add <code>get_pn_opus_path</code> function.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.9.0" id="blabr-090">blabr 0.9.0<a class="anchor" aria-label="anchor" href="#blabr-090"></a></h2>
<ul><li>Only objects marked for export in the roxygen comments will be exported. If a function from <code>blabr</code> no longer works, use <code>blabr:::&lt;function_name&gt;</code> and tell the lab technician.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.1" id="blabr-081">blabr 0.8.1<a class="anchor" aria-label="anchor" href="#blabr-081"></a></h2>
<ul><li>Updated docs for <code>get_vtc_speaker_stats</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.8.0" id="blabr-080">blabr 0.8.0<a class="anchor" aria-label="anchor" href="#blabr-080"></a></h2>
<ul><li>Added <code>add_vtc_stats</code> function that calculates VTC-bases ctc. Ported from childproject.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.7.0" id="blabr-070">blabr 0.7.0<a class="anchor" aria-label="anchor" href="#blabr-070"></a></h2>
<ul><li>Added <code>add_lena_stats</code> function that calculates ctc, cvc, and awc for a set of intervals.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.6.0" id="blabr-060">blabr 0.6.0<a class="anchor" aria-label="anchor" href="#blabr-060"></a></h2>
<ul><li>Added <code>make_new_global_basic_level</code> function that loads <code>all_basiclevel</code>, and adds a <code>global_bl</code> column to it which contains global basic levels. Clone <code>global_basic_level</code> to <code>~/BLAB_DATA</code> before using.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.2" id="blabr-052">blabr 0.5.2<a class="anchor" aria-label="anchor" href="#blabr-052"></a></h2>
<ul><li>bugfix: <code>get_seedlings_speaker_stats</code> now uses the <code>speaker</code> field from the sparse code csvs, instead of the LENA-identified <code>tier</code> field.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.1" id="blabr-051">blabr 0.5.1<a class="anchor" aria-label="anchor" href="#blabr-051"></a></h2>
<ul><li>bugfix: <code>get_seedlings_speaker_stats</code> called multiple functions without specifying the <code>library::</code> part.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.5.0" id="blabr-050">blabr 0.5.0<a class="anchor" aria-label="anchor" href="#blabr-050"></a></h2>
<ul><li>Added <code>read_rttm</code>/<code>write_rttm</code> functions to read/write <code>.rttm</code> files that Voice Type Classifier (VTC) creates.</li>
<li>Added functions <code>get_seedlings_speaker_stats</code>, <code>get_vtc_speaker_stats</code> that add stats to a set of time intervals based on Seedlings annotations and VTC outputs respectively.</li>
<li>Renamed <code>get_speaker_stats</code> to <code>get_lena_speaker_stats</code> to make the stats source explicit.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.6" id="blabr-046">blabr 0.4.6<a class="anchor" aria-label="anchor" href="#blabr-046"></a></h2>
<p>LENA functions:</p>
<ul><li>
<code>calculate_lena_like_stats</code> now outputs an additional column <code>interval_start_wav</code> that contains the interval start as the number of milliseconds from the start of the wav file,</li>
<li>
<code>sample_intervals_*</code> functions keep only the necessary columns from the input <code>intervals_tibble</code>: <code>interval_start</code>, <code>interval_end</code>, and - in the case of <code>sample_intervals_with_highest</code> - the column whose values was maximized.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.5" id="blabr-045">blabr 0.4.5<a class="anchor" aria-label="anchor" href="#blabr-045"></a></h2>
<ul><li>Removed dependency on <code>fuzzyjoin</code> and BioConductor package <code>IRanges</code> - less problems installing blabr.</li>
<li>VIHI LENA intervals for annotation: prevent utterances counting towards two neighbouring intervals.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.4" id="blabr-044">blabr 0.4.4<a class="anchor" aria-label="anchor" href="#blabr-044"></a></h2>
<ul><li>fix: sample_intervals_periodically works now</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.3" id="blabr-043">blabr 0.4.3<a class="anchor" aria-label="anchor" href="#blabr-043"></a></h2>
<ul><li>fix: correctly tell R to install IRanges from BioConductor</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.2" id="blabr-042">blabr 0.4.2<a class="anchor" aria-label="anchor" href="#blabr-042"></a></h2>
<ul><li>
<p>LENA: calculate stats, sample intervals in several ways</p>
<ul><li>get LENA-like AWC, CTC, CVC stats for given time intervals,</li>
<li>get speaker-level stats: adult word count, total segment duration, child utterance count</li>
<li>sample intervals: randomly, periodically, and optimizing for a given metric</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.1" id="blabr-041">blabr 0.4.1<a class="anchor" aria-label="anchor" href="#blabr-041"></a></h2>
<ul><li>bugfix: <code>lag</code> is now prefixed with <code>dplyr::</code> in <code>make_five_min_approximation</code>, so that <code><a href="https://rdrr.io/r/stats/lag.html" class="external-link">stats::lag</a></code> is not used.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.4.0" id="blabr-040">blabr 0.4.0<a class="anchor" aria-label="anchor" href="#blabr-040"></a></h2>
<ul><li>add <code>make_five_min_approximation</code> function that processes an .its file and outputs a tibble with columns <code>duration</code>, <code>AWC.Actual</code>, <code>CTC.Actual</code>, <code>CWC.Actual</code> that are similar to the ones in the LENA’s 5min.csv files, except for a different handling of speech segments that cross a 5-min interval border: LENA splits the values between the two intervals, while we consider them to belong to the first one.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="blabr-030">blabr 0.3.0<a class="anchor" aria-label="anchor" href="#blabr-030"></a></h2>
<ul><li>
<code>get_*</code> functions produce similar results for “.csv” and “.feather” now. The attributes are not exactly the same and the orders of factor levels are different but now the outputs are both tibbles and have the same column types. The similarity is checked with <code>all.equal(..., check.attributes = FALSE))</code>
</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.1" id="blabr-021">blabr 0.2.1<a class="anchor" aria-label="anchor" href="#blabr-021"></a></h2>
<ul><li>Suppress git message when checking out a tag.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="blabr-020">blabr 0.2.0<a class="anchor" aria-label="anchor" href="#blabr-020"></a></h2>
<ul><li>
<p><code>get_*</code> functions do not have <code>branch</code> and <code>commit</code> parameters anymore, instead they have a new <code>version</code> parameter that currently refers to a tag label in the corresponding dataset repository. Using <code>get_all_*</code> functions without supplying the version argument is discouraged, an appropriate warning is in place.</p>
<p>Motivation for the change:</p>
<ul><li>explicitly setting dataset version gives one a chance at reproducible analysis,</li>
<li>using versions instead of commit hashes lets us later choose a different non-git storage option. Or, even if we do go with git, the old and new hashes will not clash and/or confuse the users.</li>
</ul></li>
<li><p>Added a <code>NEWS.md</code> file to track changes to the package.</p></li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andrei Amatuni.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

